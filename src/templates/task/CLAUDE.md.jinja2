# Multi-Project Task

You're in a **task directory** coordinating work across multiple repositories.

## Projects

| Role | Repository |
|------|------------|
| **External Artifacts** | `{{ external_artifact_repo }}` |
{% for project in projects %}
| Participating | `{{ project }}` |
{% endfor %}

Workflow artifacts (chunks, narratives, subsystems, investigations) live in the external repo. Implementation happens in participating projects.

## Project References

Each project has its own constraints and conventions. **When working within a project, that project's internal rules take precedence over any conflicting rules from other projects.**

Read these files to understand each project's requirements:

{% for project in projects %}
{%- set repo_name = project.split('/')[-1] %}
### {{ repo_name }}

- `./{{ repo_name }}/CLAUDE.md` - Project-specific agent instructions
- `./{{ repo_name }}/docs/trunk/GOAL.md` - Project goals and constraints
- `./{{ repo_name }}/docs/trunk/TESTING_PHILOSOPHY.md` - Testing approach

{% endfor %}
## Commands

All commands work from task root. You can also `cd` into a project for project-specific work.

**Artifact commands:** `/chunk-create`, `/chunk-plan`, `/chunk-implement`, `/chunk-complete`

**Other artifacts:** `/narrative-create`, `/subsystem-discover`, `/investigation-create`

Run `ve chunk list` to see task-level chunks. Use `/help` for detailed command guidance.

## Backreferences

When implementing code that relates to a documented subsystem, add backreference
comments to link the code to its governing documentation:
```python
# Subsystem: docs/subsystems/<subsystem_name> - Brief description
```

Subsystems are the only valid code backreference type. Chunks and narratives are
ephemeral work notes stored in user-global scratchpad, not permanent in-repo
documentation.
